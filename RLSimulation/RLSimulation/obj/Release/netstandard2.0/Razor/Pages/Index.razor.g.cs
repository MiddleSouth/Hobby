#pragma checksum "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "29f7ee2086be8e0a3ad0cf2322edead52439ac0f"
// <auto-generated/>
#pragma warning disable 1591
namespace RLSimulation.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#line 1 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#line 2 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#line 3 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#line 4 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#line 5 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#line 6 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\_Imports.razor"
using RLSimulation;

#line default
#line hidden
#line 7 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\_Imports.razor"
using RLSimulation.Shared;

#line default
#line hidden
#line 3 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
using RLSimulation.Data;

#line default
#line hidden
#line 4 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
using System.Timers;

#line default
#line hidden
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public class Index : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "row");
            __builder.AddMarkupContent(2, "\r\n\t");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "col-4");
            __builder.AddMarkupContent(5, "\r\n\t\t");
            __builder.AddMarkupContent(6, "<h2 class=\"mt-2\">迷路の設定</h2>\r\n\r\n\t\t");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "pl-4");
            __builder.AddMarkupContent(9, "\r\n\t\t\t");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(12, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(13, "<label>迷路のサイズ</label>\r\n\t\t\t\t");
            __builder.OpenElement(14, "input");
            __builder.AddAttribute(15, "type", "text");
            __builder.AddAttribute(16, "class", "w-25 right-left-right");
            __builder.AddAttribute(17, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 14 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                          MazeWidth

#line default
#line hidden
            ));
            __builder.AddAttribute(18, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => MazeWidth = __value, MazeWidth));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(19, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(20, "<span class=\"right-left-right\">×</span>\r\n\t\t\t\t");
            __builder.OpenElement(21, "input");
            __builder.AddAttribute(22, "type", "text");
            __builder.AddAttribute(23, "class", "w-25 right-left-right");
            __builder.AddAttribute(24, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 16 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                          MazeHeight

#line default
#line hidden
            ));
            __builder.AddAttribute(25, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => MazeHeight = __value, MazeHeight));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(26, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n\r\n\t\t\t");
            __builder.OpenElement(28, "div");
            __builder.AddAttribute(29, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(30, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(31, "<label>迷路生成のアルゴリズム</label>\r\n\t\t\t\t");
            __builder.OpenElement(32, "select");
            __builder.AddAttribute(33, "class", "right-left-right");
            __builder.AddMarkupContent(34, "\r\n\t\t\t\t\t");
            __builder.OpenElement(35, "option");
            __builder.AddAttribute(36, "value", "xxx");
            __builder.AddMarkupContent(37, "壁伸ばし法");
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(39, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(40, "\r\n\r\n\t\t\t");
            __builder.OpenElement(41, "div");
            __builder.AddAttribute(42, "class", "form-group form-control-sm");
            __builder.AddMarkupContent(43, "\r\n\t\t\t\t");
            __builder.OpenElement(44, "button");
            __builder.AddAttribute(45, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 27 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                  CreateMaze

#line default
#line hidden
            ));
            __builder.AddAttribute(46, "class", "btn btn-primary");
            __builder.AddMarkupContent(47, "迷路作成");
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(49, "\r\n\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(50, "\r\n\r\n\t\t");
            __builder.AddMarkupContent(51, "<h2 class=\"mt-4\">学習パラメータ設定</h2>\r\n\r\n\t\t");
            __builder.OpenElement(52, "div");
            __builder.AddAttribute(53, "class", "pl-4");
            __builder.AddMarkupContent(54, "\r\n\t\t\t");
            __builder.OpenElement(55, "div");
            __builder.AddAttribute(56, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(57, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(58, "<label>ゴール時の報酬</label>\r\n\t\t\t\t");
            __builder.OpenElement(59, "input");
            __builder.AddAttribute(60, "type", "text");
            __builder.AddAttribute(61, "class", "w-25 right-left-right");
            __builder.AddAttribute(62, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 36 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                           GoalReword

#line default
#line hidden
            ));
            __builder.AddAttribute(63, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => GoalReword = __value, GoalReword));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\r\n\r\n\t\t\t");
            __builder.OpenElement(66, "div");
            __builder.AddAttribute(67, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(68, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(69, "<label>学習率α（0 &lt; α &lt; 1）</label>\r\n\t\t\t\t");
            __builder.OpenElement(70, "input");
            __builder.AddAttribute(71, "type", "text");
            __builder.AddAttribute(72, "class", "w-25 right-left-right");
            __builder.AddAttribute(73, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 41 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                           Alpha

#line default
#line hidden
            ));
            __builder.AddAttribute(74, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => Alpha = __value, Alpha));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(75, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(76, "\r\n\r\n\t\t\t");
            __builder.OpenElement(77, "div");
            __builder.AddAttribute(78, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(79, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(80, "<label>割引率γ（0 &lt; γ &lt; 1）</label>\r\n\t\t\t\t");
            __builder.OpenElement(81, "input");
            __builder.AddAttribute(82, "type", "text");
            __builder.AddAttribute(83, "class", "w-25 right-left-right");
            __builder.AddAttribute(84, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 46 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                           Gamma

#line default
#line hidden
            ));
            __builder.AddAttribute(85, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => Gamma = __value, Gamma));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(86, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(87, "\r\n\r\n\t\t\t");
            __builder.OpenElement(88, "div");
            __builder.AddAttribute(89, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(90, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(91, "<label>行動選択手法</label>\r\n\t\t\t\t");
            __builder.OpenElement(92, "select");
            __builder.AddAttribute(93, "class", "right-left-right");
            __builder.AddMarkupContent(94, "\r\n\t\t\t\t\t");
            __builder.OpenElement(95, "option");
            __builder.AddAttribute(96, "value", "xxx");
            __builder.AddMarkupContent(97, "ε-グリーディ法");
            __builder.CloseElement();
            __builder.AddMarkupContent(98, "\r\n\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(99, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(100, "\r\n\r\n\t\t\t");
            __builder.OpenElement(101, "div");
            __builder.AddAttribute(102, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(103, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(104, "<label>ε（0 &lt; ε &lt; 1）</label>\r\n\t\t\t\t");
            __builder.OpenElement(105, "input");
            __builder.AddAttribute(106, "type", "text");
            __builder.AddAttribute(107, "class", "w-25 right-left-right");
            __builder.AddAttribute(108, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 58 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                           Epsilon

#line default
#line hidden
            ));
            __builder.AddAttribute(109, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => Epsilon = __value, Epsilon));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(110, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(111, "\r\n\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(112, "\r\n\r\n\t\t");
            __builder.AddMarkupContent(113, "<h2 class=\"mt-4\">表示設定</h2>\r\n\r\n\t\t");
            __builder.OpenElement(114, "div");
            __builder.AddAttribute(115, "class", "pl-4");
            __builder.AddMarkupContent(116, "\r\n\t\t\t");
            __builder.OpenElement(117, "div");
            __builder.AddAttribute(118, "class", "form-group form-control-sm right-left");
            __builder.AddMarkupContent(119, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(120, "<label class=\"right-left\">アニメーションスピード</label>\r\n\t\t\t\t");
            __builder.OpenElement(121, "select");
            __builder.AddAttribute(122, "class", "right-left-right");
            __builder.AddMarkupContent(123, "\r\n\t\t\t\t\t");
            __builder.OpenElement(124, "option");
            __builder.AddAttribute(125, "value", "1");
            __builder.AddMarkupContent(126, "遅い");
            __builder.CloseElement();
            __builder.AddMarkupContent(127, "\r\n\t\t\t\t\t");
            __builder.OpenElement(128, "option");
            __builder.AddAttribute(129, "value", "2");
            __builder.AddMarkupContent(130, "普通");
            __builder.CloseElement();
            __builder.AddMarkupContent(131, "\r\n\t\t\t\t\t");
            __builder.OpenElement(132, "option");
            __builder.AddAttribute(133, "value", "3");
            __builder.AddMarkupContent(134, "早い");
            __builder.CloseElement();
            __builder.AddMarkupContent(135, "\r\n\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(136, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(137, "\r\n\r\n\t\t\t");
            __builder.OpenElement(138, "div");
            __builder.AddAttribute(139, "class", "form-group form-control-sm");
            __builder.AddMarkupContent(140, "\r\n\t\t\t\t");
            __builder.OpenElement(141, "select");
            __builder.AddAttribute(142, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 75 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                               SkipActCount

#line default
#line hidden
            ));
            __builder.AddAttribute(143, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => SkipActCount = __value, SkipActCount));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(144, "\r\n\t\t\t\t\t");
            __builder.OpenElement(145, "option");
            __builder.AddAttribute(146, "value", "10");
            __builder.AddContent(147, "10");
            __builder.CloseElement();
            __builder.AddMarkupContent(148, "\r\n\t\t\t\t\t");
            __builder.OpenElement(149, "option");
            __builder.AddAttribute(150, "value", "100");
            __builder.AddContent(151, "100");
            __builder.CloseElement();
            __builder.AddMarkupContent(152, "\r\n\t\t\t\t\t");
            __builder.OpenElement(153, "option");
            __builder.AddAttribute(154, "value", "1000");
            __builder.AddContent(155, "1000");
            __builder.CloseElement();
            __builder.AddMarkupContent(156, "\r\n\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(157, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(158, "<label>回行動スキップ</label>\r\n\t\t\t\t");
            __builder.OpenElement(159, "button");
            __builder.AddAttribute(160, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 81 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                  SkipActions

#line default
#line hidden
            ));
            __builder.AddAttribute(161, "class", "btn btn-primary");
            __builder.AddMarkupContent(162, "スキップ");
            __builder.CloseElement();
            __builder.AddMarkupContent(163, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(164, "\r\n\r\n\t\t\t");
            __builder.OpenElement(165, "div");
            __builder.AddAttribute(166, "class", "form-group form-control-sm");
            __builder.AddMarkupContent(167, "\r\n\t\t\t\t");
            __builder.OpenElement(168, "select");
            __builder.AddAttribute(169, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 85 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                               SkipGoalCount

#line default
#line hidden
            ));
            __builder.AddAttribute(170, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => SkipGoalCount = __value, SkipGoalCount));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(171, "\r\n\t\t\t\t\t");
            __builder.OpenElement(172, "option");
            __builder.AddAttribute(173, "value", "1");
            __builder.AddContent(174, "1");
            __builder.CloseElement();
            __builder.AddMarkupContent(175, "\r\n\t\t\t\t\t");
            __builder.OpenElement(176, "option");
            __builder.AddAttribute(177, "value", "10");
            __builder.AddContent(178, "10");
            __builder.CloseElement();
            __builder.AddMarkupContent(179, "\r\n\t\t\t\t\t");
            __builder.OpenElement(180, "option");
            __builder.AddAttribute(181, "value", "100");
            __builder.AddContent(182, "100");
            __builder.CloseElement();
            __builder.AddMarkupContent(183, "\r\n\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(184, "\r\n\t\t\t\t");
            __builder.AddMarkupContent(185, "<label>回ゴール後までスキップ</label>\r\n\t\t\t\t");
            __builder.OpenElement(186, "button");
            __builder.AddAttribute(187, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 91 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                  SkipGoals

#line default
#line hidden
            ));
            __builder.AddAttribute(188, "class", "btn btn-primary");
            __builder.AddMarkupContent(189, "スキップ");
            __builder.CloseElement();
            __builder.AddMarkupContent(190, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(191, "\r\n\r\n\t\t\t");
            __builder.OpenElement(192, "div");
            __builder.AddAttribute(193, "class", "form-group form-control-sm");
            __builder.AddMarkupContent(194, "\r\n\t\t\t\t");
            __builder.OpenElement(195, "label");
            __builder.AddMarkupContent(196, "\r\n\t\t\t\t\t");
            __builder.OpenElement(197, "input");
            __builder.AddAttribute(198, "type", "checkbox");
            __builder.AddAttribute(199, "class", "check-input");
            __builder.AddAttribute(200, "checked", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 96 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                                                       IsStopWhenGoal

#line default
#line hidden
            ));
            __builder.AddAttribute(201, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => IsStopWhenGoal = __value, IsStopWhenGoal));
            __builder.SetUpdatesAttributeName("checked");
            __builder.CloseElement();
            __builder.AddMarkupContent(202, "<span class=\"check-parts\">ゴールしたら一時停止する</span>\r\n\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(203, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(204, "\r\n\r\n\t\t\t");
            __builder.OpenElement(205, "div");
            __builder.AddAttribute(206, "class", "form-group form-control-sm");
            __builder.AddMarkupContent(207, "\r\n\t\t\t\t");
            __builder.OpenElement(208, "label");
            __builder.AddMarkupContent(209, "\r\n\t\t\t\t\t");
            __builder.OpenElement(210, "input");
            __builder.AddAttribute(211, "type", "checkbox");
            __builder.AddAttribute(212, "class", "check-input");
            __builder.AddAttribute(213, "checked", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 102 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                                                       IsStopWhenBestRoot

#line default
#line hidden
            ));
            __builder.AddAttribute(214, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => IsStopWhenBestRoot = __value, IsStopWhenBestRoot));
            __builder.SetUpdatesAttributeName("checked");
            __builder.CloseElement();
            __builder.AddMarkupContent(215, "<span class=\"check-parts\">最短経路に到達したら終了する</span>\r\n\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(216, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(217, "\r\n\r\n\t\t\t");
            __builder.OpenElement(218, "div");
            __builder.AddAttribute(219, "class", "form-group form-control-sm");
            __builder.AddMarkupContent(220, "\r\n\t\t\t\t");
            __builder.OpenElement(221, "button");
            __builder.AddAttribute(222, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 107 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                  StartLearning

#line default
#line hidden
            ));
            __builder.AddAttribute(223, "class", "btn btn-primary");
            __builder.AddMarkupContent(224, "学習開始");
            __builder.CloseElement();
            __builder.AddMarkupContent(225, "\r\n\t\t\t\t");
            __builder.OpenElement(226, "button");
            __builder.AddAttribute(227, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 108 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                  StopLearning

#line default
#line hidden
            ));
            __builder.AddAttribute(228, "class", "btn btn-primary");
            __builder.AddMarkupContent(229, "一時停止");
            __builder.CloseElement();
            __builder.AddMarkupContent(230, "\r\n\t\t\t\t");
            __builder.OpenElement(231, "button");
            __builder.AddAttribute(232, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 109 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                  ClearAgent

#line default
#line hidden
            ));
            __builder.AddAttribute(233, "class", "btn btn-primary");
            __builder.AddMarkupContent(234, "クリア");
            __builder.CloseElement();
            __builder.AddMarkupContent(235, "\r\n\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(236, "\r\n\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(237, "\r\n\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(238, "\r\n\r\n\t");
            __builder.OpenElement(239, "div");
            __builder.AddAttribute(240, "class", "col-8 mt-5");
            __builder.AddMarkupContent(241, "\r\n");
#line 115 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
         if (EnvMaze != null)
		{

#line default
#line hidden
            __builder.AddMarkupContent(242, "\t\t\t");
            __builder.OpenElement(243, "table");
            __builder.AddAttribute(244, "class", "ml-5");
            __builder.AddMarkupContent(245, "\r\n");
#line 118 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                 for (int y = 0; y < EnvMaze.Height; y++)
				{

#line default
#line hidden
            __builder.AddMarkupContent(246, "\t\t\t\t");
            __builder.OpenElement(247, "tr");
            __builder.AddMarkupContent(248, "\r\n");
#line 121 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                     for (int x = 0; x < EnvMaze.Width; x++)
					{
						

#line default
#line hidden
#line 123 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                         if (EnvMaze.Cells[x, y].State == MazeCell.MazeCellState.Wall)
						{
							EnvMaze.Cells[x, y].CssClass = "bg-dark";
						}
						else
						{
							EnvMaze.Cells[x, y].CssClass = "bg-light";
						}

#line default
#line hidden
#line 132 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                         if (Agent != null)
						{
							

#line default
#line hidden
#line 134 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                             if (Agent.CurrentLocate.X == x && Agent.CurrentLocate.Y == y)
							{
								EnvMaze.Cells[x, y].CssClass = "bg-success";
							}

#line default
#line hidden
#line 137 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                             
						}

#line default
#line hidden
#line 140 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                         if (EnvMaze.Cells[x, y].IsStart)
						{
							EnvMaze.Cells[x, y].Text = "S";
						}
						else if (EnvMaze.Cells[x, y].IsGoal)
						{
							EnvMaze.Cells[x, y].Text = "G";
						}

#line default
#line hidden
            __builder.AddMarkupContent(249, "\t\t\t\t\t\t");
            __builder.OpenElement(250, "td");
            __builder.AddAttribute(251, "class", "maze" + " " + (
#line 149 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                         EnvMaze.Cells[x,y].CssClass

#line default
#line hidden
            ));
            __builder.AddMarkupContent(252, "\r\n\t\t\t\t\t\t\t");
            __builder.OpenElement(253, "span");
            __builder.AddAttribute(254, "class", 
#line 150 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                          EnvMaze.Cells[x, y].TextCssClass

#line default
#line hidden
            );
            __builder.AddContent(255, 
#line 150 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                                                                             EnvMaze.Cells[x, y].Text

#line default
#line hidden
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(256, "\r\n\t\t\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(257, "\r\n");
#line 152 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
					}

#line default
#line hidden
            __builder.AddMarkupContent(258, "\t\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(259, "\r\n");
#line 154 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
				}

#line default
#line hidden
            __builder.AddMarkupContent(260, "\t\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(261, "\r\n");
#line 156 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
		}

#line default
#line hidden
            __builder.AddMarkupContent(262, "\r\n");
#line 158 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
         if(Agent != null)
		{

#line default
#line hidden
            __builder.AddMarkupContent(263, "\t\t");
            __builder.OpenElement(264, "ul");
            __builder.AddAttribute(265, "class", "ml-5 mt-2");
            __builder.AddMarkupContent(266, "\r\n\t\t\t");
            __builder.OpenElement(267, "li");
            __builder.AddMarkupContent(268, "行動回数　：");
            __builder.AddContent(269, 
#line 161 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                       Agent.ActCount

#line default
#line hidden
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(270, "\r\n\t\t\t");
            __builder.OpenElement(271, "li");
            __builder.AddMarkupContent(272, "ゴール回数：");
            __builder.AddContent(273, 
#line 162 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
                       Agent.LearningCount

#line default
#line hidden
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(274, "\r\n\t\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(275, "\r\n");
#line 164 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
		}

#line default
#line hidden
            __builder.AddMarkupContent(276, "\t");
            __builder.CloseElement();
            __builder.AddMarkupContent(277, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#line 169 "D:\MyProgram\Hobby\RLSimulation\RLSimulation\Pages\Index.razor"
 
	private Maze EnvMaze;
	private QLearningAgent Agent;
	private Timer ActTimer;
	private int MazeWidth = 15;
	private int MazeHeight = 15;
	private double GoalReword = 100;
	private double Alpha = 0.1;
	private double Gamma = 0.9;
	private double Epsilon = 0.03;
	private int SkipActCount = 10;
	private int SkipGoalCount = 1;
	private bool IsStopWhenGoal = true;
	private bool IsStopWhenBestRoot = true;
	private Dictionary<Maze.Direction, string> DirectionSet = new Dictionary<Maze.Direction, string>()
	{
		{Maze.Direction.Up,   "↑" },
		{Maze.Direction.Down, "↓" },
		{Maze.Direction.Left, "←" },
		{Maze.Direction.Right,"→" }
	};

	/// <summary>
	/// 初期表示時
	/// </summary>
	/// <returns></returns>
	protected override async Task OnInitializedAsync()
	{
		EnvMaze = await mazeService.GetMazeAsync();
		CreateMaze();
	}

	/// <summary>
	/// ボタン押下時の迷路生成
	/// </summary>
	private void CreateMaze()
	{
		EnvMaze.CreateMaze(Maze.CreateMethod.ExtendWall, MazeWidth, MazeHeight);
	}

	/// <summary>
	/// 学習開始
	/// </summary>
	private void StartLearning()
	{
		if(Agent == null)
		{
			SetAgent();
		}

		if(EnvMaze.Cells[Agent.CurrentLocate.X, Agent.CurrentLocate.Y].IsGoal)
		{
			Agent.SetStart();
		}

		if(ActTimer == null)
		{
			ActTimer = new Timer(50);
			ActTimer.Elapsed += (sender, e) =>
			{
				ActAgentAsync().Wait();
			};
		}

		ActTimer.Start();
	}

	/// <summary>
	/// 学習一時停止
	/// </summary>
	private void StopLearning()
	{
		if(ActTimer != null)
		{
			ActTimer.Stop();
		}
	}

	/// <summary>
	/// 指定回数行動を進める
	/// </summary>
	private void SkipActions()
	{
		if(ActTimer == null)
		{
			return;
		}

		ActTimer.Stop();

		for(int i = 0; i < SkipActCount; i++)
		{
			ActAgent();

			if (EnvMaze.Cells[Agent.CurrentLocate.X, Agent.CurrentLocate.Y].IsGoal)
			{
				Agent.SetStart();
				break;
			}
		}

		ActTimer.Start();
	}

	/// <summary>
	/// 指定回数ゴールするまで行動する
	/// </summary>
	private void SkipGoals()
	{
		if(ActTimer == null)
		{
			return;
		}

		ActTimer.Stop();

		for(int i = 0; i < SkipGoalCount; i++)
		{
			while (true)
			{
				ActAgent();

				if (EnvMaze.Cells[Agent.CurrentLocate.X, Agent.CurrentLocate.Y].IsGoal)
				{
					Agent.SetStart();
					break;
				}
			}
		}

		ActTimer.Start();
	}

	/// <summary>
	/// エージェントを削除する
	/// </summary>
	private void ClearAgent()
	{
		Agent = null;
		ActTimer.Stop();
		ActTimer.Dispose();
		ActTimer = null;
	}

	/// <summary>
	/// エージェントの行動
	/// </summary>
	/// <returns></returns>
	private async Task ActAgentAsync()
	{
		await InvokeAsync(() =>
		{

			if (EnvMaze.Cells[Agent.CurrentLocate.X, Agent.CurrentLocate.Y].IsGoal)
			{
				Agent.SetStart();
			}
			else
			{
				ActAgent();
				this.StateHasChanged();
				if (IsStopWhenGoal && EnvMaze.Cells[Agent.CurrentLocate.X, Agent.CurrentLocate.Y].IsGoal)
				{
					ActTimer.Stop();
				}
			}
		});
	}

	/// <summary>
	/// エージェントを1回行動させる
	/// </summary>
	private void ActAgent()
	{
		var locate = new Maze.CellLocate(Agent.CurrentLocate);
		double qValue = Agent.Act();

		if(qValue > 0)
		{
			Maze.Direction direction = Agent.MaxQDirection(locate);
			EnvMaze.Cells[locate.X, locate.Y].Text = DirectionSet[direction];
		}
	}

	/// <summary>
	/// エージェントを設定する
	/// </summary>
	private void SetAgent()
	{
		EnvironmentMaze env = new EnvironmentMaze(EnvMaze, GoalReword);
		Agent = new QLearningAgent(env, Alpha, Gamma, Epsilon);
	}

#line default
#line hidden
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private MazeService mazeService { get; set; }
    }
}
#pragma warning restore 1591
